CS 338 
Spring 2022
PEN TESTING #1: HOST DETECTION & PORT SCANNING

McKenna Wirth and Antonia Ritter
	
=================================

1. Passive information gathering

- What domain did you investigate? 
this-person-does-not-exist.com (which turns out to be a copy of the original thispersondoesnotexist.com)

- What is its IP address? 
185.17.2.71

- When does the domain's registration expire? 
2023-04-29 (via whois on command line) 

- What information, if any, did you learn about the people or corporation responsible for the domain in question?
	- The netblock owner is Ihor Servers, which has multiple street addresses in Moscow. The whois lookup with IP address gave us a specific address as part of contact information for administrators, which Google maps identified as "DataPro, data center". It also has their names (Andrey Simonov and Vasiliy Chesnokov) and phone numbers. A full name and employer is plenty to locate most people online, but we did not go much further (we may have found an Instagram account, though). 
	- From the whois query with the domian name, we found that the registrant address is mostly, but not entirely, redacted: what remains is a country code (RU) and state/province number (48). We think this means the Republic of Dagestan, Russia. 
	- Sidenote, we think Ihor is supposed to refer to ichor, the blood of the gods, via Russian transliteration. 
	- The nameserver is DigitalOcean. 
	- The registrar is 1API. 
	
=================================

2. Host detection 

- IP addresses for hosts on local network? Entities they represent? 
192.168.249.2 
	- By process of elimination, this is the network gateway. 
192.168.249.128 
	- VMWare (the virtual machine on the computer); we see it in the ifconfig call, and this address makes a Network Time Protocol request. 
192.168.249.129
	- Metasploitable; via ifconfig on Metasploitable. 

- What steps did nmap take?
It sends ARP broadcasts to the addresses in sequence. The Wireshark interpretation of these is "Who has [address]? Tell 192.168.249.128." The raw data from Wireshark has the sender and target fields for MAC and IP addresses. As a reponse to the broadcast, that entity responds with its MAC. After that they send a TCP SYN, ACK, and reset. The series of broadcasts is repeated approximately 7 times, although each repeat skips some addresses. 

- IP addresses for hosts on Carleton network? Entities they represent? 
137.22.4.5
	- Elegit.mathcs.carleton.edu, according to nmap.
137.22.4.17
	- Perlman.mathcs.carleton.edu.
137.22.4.131
	- Maize.mathcs.carleton.edu.

- What steps did nmap take?
Nmap sent a TCP SYN packet to each IP address in sequence. For ones listed above, it got a response, and sent an acknowledgement and then a reset. Once it has gone though most of them - it skipped a few on the way - it went back and some of the ones it had already done, and some it missed. This process gets repeated 5-10 times. It found Perlman on the 3rd round and Maize on the 6th (because it skipped those addresses on prior rounds). 

=================================

3. Port scanning 

- Which ports does Metasploitable have open, and what services do they correspond to?
The ports and corresponding services are shown in the output: 
	PORT     STATE SERVICE
	21/tcp   open  ftp
	22/tcp   open  ssh
	23/tcp   open  telnet
	25/tcp   open  smtp
	53/tcp   open  domain
	80/tcp   open  http
	111/tcp  open  rpcbind
	139/tcp  open  netbios-ssn
	445/tcp  open  microsoft-ds
	512/tcp  open  exec
	513/tcp  open  login
	514/tcp  open  shell
	1099/tcp open  rmiregistry
	1524/tcp open  ingreslock
	2049/tcp open  nfs
	2121/tcp open  ccproxy-ftp
	3306/tcp open  mysql
	5432/tcp open  postgresql
	5900/tcp open  vnc
	6000/tcp open  X11
	6667/tcp open  irc
	8009/tcp open  ajp13
	8180/tcp open  unknown

- What database server(s) is/are available on Metasploitable?
	3306/tcp open  mysql
	5432/tcp open  postgresql

- What is the value of the RSA SSH host key? What is the host key for?
Value: 56:56:24:0f:21:1d:de:a7:2b:ae:61:b1:24:3d:e8:f3
This is for the ssh connection on port 22. 

- Pick one of the open ports that has a service you have never heard of, and explain what the service does.
Port 1099, RMIRegistry: RMI stands for remote method invocation, allowing for a Java program to invoke a method of an object running on another computer. The registry is where the object and methods are stored. This port allows access to the registry. (https://www.makeuseof.com/tag/java-rmi-registry/)





